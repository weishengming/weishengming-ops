
#------------------------------------------------------------#
#config 172.16.94.14 
#------------------------------------------------------------#

## 99fenqi Web
upstream 99fenqiweb.80 {
      server 172.16.94.14;
}
server{
    listen 80;
    server_name www.99fenqi.com www.99fenqi.com.cn www.fenqifu.com.cn 99fenqi.com 99fenqi.com.cn fenqifu.com.cn;
    location / {
        proxy_pass         http://99fenqiweb.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## 99fenqi Wap
upstream 99fenqiwap.80 {
      server 172.16.94.14:8081;
}
server{
    listen 80;
    server_name m.99fenqi.com m.99fenqi.com.cn;
    location / {
        proxy_pass         http://99fenqiwap.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## geinihua Wap
upstream geinihuawap.80 {
      server 172.16.94.14:8082;
}
server{
    listen 80;
    server_name m.geinihua.com;
    location / {
        proxy_pass         http://geinihuawap.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}


#------------------------------------------------------------#
#config 172.16.94.9,172.16.94.24 
#------------------------------------------------------------#

## 99fenqi Open Api Service Port 30002
upstream openapi.30002 {
      server 172.16.94.9:30002;
      server 172.16.94.24:30002;
}
server{
    listen 30002;
    server_name api.fenqifu.com.cn;
    location / {
        proxy_pass         http://openapi.30002;
        proxy_set_header   Host             $host:30002;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## 99fenqi Open Api Service Port 60000
upstream openapi.60000 {
      server 172.16.94.9:60000;
      server 172.16.94.24:60000;
}
server{
    listen 60000;
    server_name api.fenqifu.com.cn;
    location / {
        proxy_pass         http://openapi.60000;
        proxy_set_header   Host             $host:60000;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## 99fenqi Open Api Service Port 30000
upstream openapi.30000 {
      server 172.16.94.9:30000;
      server 172.16.94.24:30000;
}
server{
    listen 30000;
    server_name api.fenqifu.com.cn;
    location / {
        proxy_pass         http://openapi.30000;
        proxy_set_header   Host             $host:30000;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## 99fenqi Open Api Service Port 40000
upstream openapi.40000 {
      server 172.16.94.9:40000;
      server 172.16.94.24:40000;
}
server{
    listen 40000;
    server_name api.fenqifu.com.cn;
    location / {
        proxy_pass         http://openapi.40000;
        proxy_set_header   Host             $host:40000;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

##99fenqi New Open Api Service
upstream openapi.80.1 {
    server 172.16.94.9:8105;
    server 172.16.94.24:8105;
}
upstream openapi.80.2 {
    server 172.16.94.9:8888;
    server 172.16.94.24:8888;
}
upstream openapi.80.3 {
    server 172.16.94.9:8888;
}
upstream openapi.80.5{
    server 172.16.94.9:8892;
    server 172.16.94.24:8892;
}
##/html目录转到 h5 pc的机器上
upstream openapi.80.4 {
    server 172.16.94.14:8888;
}
server{
    listen 80;
    server_name api2.fenqifu.com.cn;

    location /html/ {
        proxy_pass http://openapi.80.4;
        proxy_set_header host $host;
        proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP  $remote_addr;
    }

    location /api/api-docs {
        allow 218.241.82.138;
        deny  all;
        proxy_pass http://openapi.80.1;
        proxy_set_header host $host;
        proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP  $remote_addr;
    }

    location /api/ {
        proxy_pass http://openapi.80.1;
        proxy_set_header host $host;
        proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP  $remote_addr;
    }

    location /order2/v2/api-docs {
        allow 218.241.82.138;
        deny  all;
        proxy_pass http://openapi.80.2;
        proxy_set_header host $host;
        proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP  $remote_addr;
    }

    location /order2/user/uploadContacts {
        proxy_pass http://openapi.80.3;
        proxy_set_header host $host;
        proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP  $remote_addr;
    }

    location /order2/ {
        proxy_pass http://openapi.80.2;
        proxy_set_header host $host;
        proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP  $remote_addr;
    }

    location /internal/ {
        proxy_pass http://openapi.80.5;
        proxy_set_header host $host;
        proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP  $remote_addr;
    }
}

##99fenqi New Open inner Api Service
upstream billsservice_api{
    server 172.16.94.9:8886;
    server 172.16.94.24:8886;
}
upstream activity_api{
    server 172.16.94.9:8880;
    server 172.16.94.24:8880;
}
upstream user_api{
    server 172.16.94.9:8890;
    server 172.16.94.24:8890;
}
upstream jpush_api{
    server 172.16.94.9:8896;
    server 172.16.94.24:8896;
}
server {
    listen       80;
    server_name  api3.fenqifu.com.cn;
    index index.html index.htm;

    location /user/ {
        root html;
        index index.html index.htm;
        proxy_pass http://user_api;
        proxy_set_header host $host;
        proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP  $remote_addr;
    }

    location /activity/ {
        root html;
        index index.html index.htm;
        proxy_pass http://activity_api;
        proxy_set_header host $host;
        proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP  $remote_addr;
    }

    location /bills/ {
        root html;
        index index.html index.htm;
        proxy_pass http://billsservice_api;
        proxy_set_header host $host;
        proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP  $remote_addr;
    }
    
    location /jpush/ {
        root html;
        index index.html index.htm;
        proxy_pass http://jpush_api;
        proxy_set_header host $host;
        proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP  $remote_addr;
    }
}
#------------------------------------------------------------#
#config 172.16.94.8 
#------------------------------------------------------------#
upstream tongji.99fenqi {
      server 172.16.94.8;
}
server{
    listen 80;
    server_name tongji.99fenqi.com.cn;
    location / {
        proxy_pass         http://tongji.99fenqi;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

#------------------------------------------------------------#
#config 172.16.94.15
#------------------------------------------------------------#

## yibao,zhima callback
upstream 99fenqi.com.8080 {
      server 172.16.94.15:8080;
}
server{
    listen 8080;
    server_name www.99fenqi.com ;
    location / {
        proxy_pass         http://99fenqi.com.8080;
        proxy_set_header   Host             $host:8080;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## 51daikou,dongjie
upstream 51payment.30002 {
	server 172.16.94.15:30002;
}
server{
    listen 30002;
    server_name api000.fenqifu.com.cn;
    location / {
        proxy_pass         http://51payment.30002;
        proxy_set_header   Host             $host:30002;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## yijifu callback
upstream yijifupayment.30000 {
	server 172.16.94.15:30000;
}
server{
    listen 30000;
    server_name yijifu.fenqifu.com.cn;
    location / {
        proxy_pass         http://yijifupayment.30000;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}


#------------------------------------------------------------#
#config 172.16.94.19
#------------------------------------------------------------#

## old huankuan admin service
upstream hk.fenqifu.80 {
      server 72.16.94.19:8001;
}
server{
    listen 80;
    server_name hk.fenqifu.cn;
    location / {
        proxy_pass         http://hk.fenqifu.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## new huankuan admin service, hkapi.fenqfu.cn changes to 72.16.94.19:8003
upstream hknew.fenqifu.80 {
      server 72.16.94.19:8002;
}
server{
    listen 80;
    server_name hknew.fenqifu.cn;
    location / {
        proxy_pass         http://hknew.fenqifu.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}


#------------------------------------------------------------#
#config 172.16.94.16
#------------------------------------------------------------#

## shenhe admin service
upstream admin.fenqifu.80 {
      server 172.16.94.16;
}
server{
    listen 80;
    server_name admin.fenqifu.com.cn shenhe.fenqifu.cn kefu.fenqifu.cn bj.admin.fenqifu.cn;
    location / {
        proxy_pass         http://admin.fenqifu.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}


#------------------------------------------------------------#
#config 172.16.94.7
#------------------------------------------------------------#

## daili admin service
upstream daili.fenqifu.80 {
      server 172.16.94.7:8001;
}
server{
    listen 80;
    server_name daili.fenqifu.com.cn;
    location / {
        proxy_pass         http://daili.fenqifu.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## touziren admin service
upstream admin.touziren.80 {
      server 172.16.94.7:8002;
}
server{
    listen 80;
    server_name tzr.fenqifu.com.cn;
    location / {
        proxy_pass         http://admin.touziren.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## dinglitouzi web
upstream dinglitouziweb.80 {
      server 172.16.94.7:8003;
}
server{
    listen 80;
    server_name www.dinglitouzi.com;
    location / {
        proxy_pass         http://dinglitouziweb.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## dinglitouzi admin service
upstream admin.dinglitouzi.80 {
      server 172.16.94.7:8004;
}
server{
    listen 80;
    server_name admin.dinglitouzi.com;
    location / {
        proxy_pass         http://admin.dinglitouzi.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## cuishou admin service
upstream admin.cuishou.80 {
      server 172.16.94.7:8005;
}
server{
    listen 80;
    server_name guanliyuan.fenqifu.com.cn;
    location / {
        proxy_pass         http://admin.cuishou.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}


#------------------------------------------------------------#
#config 172.16.94.29,172.16.94.33
#------------------------------------------------------------#

## yunyingshang api service
upstream i.org.80 {
      server 172.16.94.29;
      server 172.16.94.33;
}
server{
    listen 80;
    server_name i.org.99fenqi.com.cn i2.org.99fenqi.com.cn;
    location / {
        proxy_pass         http://i.org.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}


#------------------------------------------------------------#
#config 172.16.94.25
#------------------------------------------------------------#

## zhaopin renzheng service
upstream i.zhaopin.80 {
      server 172.16.94.25;
}
server{
    listen 80;
    server_name i.zhaopin.99fenqi.com.cn;
    location / {
        proxy_pass         http://i.zhaopin.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}


#------------------------------------------------------------#
#config 172.16.94.18
#------------------------------------------------------------#

## yunyingshang super admin
upstream super.org.80 {
      server 172.16.94.18:8001;
}
server{
    listen 80;
    server_name super.org.99fenqi.com.cn;
    location / {
        proxy_pass         http://super.org.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

## zhaopin super admin
upstream super.zhaopin.80 {
      server 172.16.94.18:8002;
}
server{
    listen 80;
    server_name super.zhaopin.99fenqi.com.cn;
    location / {
        proxy_pass         http://super.zhaopin.80;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}

